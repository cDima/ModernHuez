"use strict";function initVoice(){null===huevoice&&(huevoice=voice()),huevoice.notAvailable()&&$("#voice-control").hide(),$("#voice-mic").click(toggleVoice)}function toggleVoice(){var e=$("#voice-mic");e.toggleClass("active");var o=voiceCommander(voiceCmdProxy);e.hasClass("active")?huevoice.recognize(o.react,voiceError,voiceEnd)&&(huevoice.speak("Enabling voice commands"),huevoice.start()):(huevoice.speak("Voice commands disabled"),huevoice.stop())}function voiceCmdProxy(e,o,c,i){$("#voice-feedback").html(""),$("#voice-feedback").html('<i class="voice-fade ">'+e+"</i>");var n={voiceCmd:{text:e,match:o,action:c,actor:i}};sendToMothership(n)}function voiceError(e){var o=$("#voice-mic");o.removeClass("active"),console.error(e)}function voiceEnd(){var e=$("#voice-mic");e.removeClass("active"),console.log("voice end")}function voiceCmdFunc(e,o,c,i){voiceCmdProxy(e,o,c,i)}var hueProxy=function(e){function o(o,c,i){if(e){var n=e.parse(o,c);n&&i&&i(n)}else{var v="ahcbfmbmpojngalhbkkggbfamgmkneoo";chrome.runtime.sendMessage(v,o,i)}}function c(e,c,i){"function"==typeof c&&(i=c,c=void 0);var n={hueCommand:{command:e,args:c}};o(n,c,i)}return{cmd:c,sendToMothership:o}},huevoice=null;$(function(){initVoice(),toggleVoice()});